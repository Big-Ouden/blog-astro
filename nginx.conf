server {
    listen 80;
    server_name _;
    root /usr/share/nginx/html;
    index index.html;

    # Gestion sp√©cifique des erreurs
    error_page 404 @not_found;
    error_page 500 502 503 504 @server_error;

    location @not_found {
        rewrite ^.*$ /404.html last;
    }

    location @server_error {
        rewrite ^.*$ /500.html last;
    }

    location / {
        try_files $uri $uri/index.html $uri.html @not_found;
    }

    # Protection des pages d'erreur
    location = /404.html {
        internal;
    }

    location = /500.html {
        internal;
    }

    # Assets statiques
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
